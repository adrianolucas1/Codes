<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Para Meu Amor</title>
    <style>
        body {
            margin: 0;
            /* 1. MUDANÇA NO CSS: Cores de noite roxa/azul profunda */
            background: radial-gradient(circle at center, #2e0b3d 0%, #1a0524 60%, #050008 100%);
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        canvas { display: block; }

        .wrapper-coelho {
            position: absolute;
            bottom: 5%;
            width: 140px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 15;
            pointer-events: none; 
        }

        .coelho-esq-wrap { left: 5%; }
        .coelho-dir-wrap { right: 5%; transform: scaleX(-1); }

        .coelho-svg {
            width: 100%;
            filter: drop-shadow(0 0 15px rgba(255, 182, 193, 0.5));
        }

        .braco-joga { 
            transform-origin: 85px 65px; 
            animation: lancar 0.6s cubic-bezier(0.25, 1, 0.5, 1) infinite; 
        }
        @keyframes lancar {
            0% { transform: rotate(0deg); }
            40% { transform: rotate(-60deg); }
            60% { transform: rotate(30deg); }
            100% { transform: rotate(0deg); }
        }

        .corpo-todo {
            transform-origin: bottom center;
            animation: balanco-corpo 0.6s ease-in-out infinite;
        }
        @keyframes balanco-corpo {
            0%, 100% { transform: scaleY(1); }
            40% { transform: scaleY(0.92) scaleX(1.02); }
            60% { transform: scaleY(1.05) scaleX(0.95); }
        }
    </style>
</head>
<body>

    <svg style="display:none;">
        <symbol id="cute-bunny" viewBox="0 0 150 160">
            <g class="corpo-todo">
                <ellipse cx="45" cy="35" rx="15" ry="30" fill="#ffffff"/>
                <ellipse cx="45" cy="35" rx="7" ry="20" fill="#ffdbed"/>
                <ellipse cx="105" cy="35" rx="15" ry="30" fill="#ffffff"/>
                <ellipse cx="105" cy="35" rx="7" ry="20" fill="#ffdbed"/>
                <path d="M 75 145 C 40 145, 25 120, 25 90 C 25 50, 45 30, 75 30 C 105 30, 125 50, 125 90 C 125 120, 110 145, 75 145 Z" fill="#ffffff"/>
                <ellipse cx="55" cy="145" rx="18" ry="10" fill="#ffffff"/>
                <ellipse cx="95" cy="145" rx="18" ry="10" fill="#ffffff"/>
                <circle cx="55" cy="145" r="5" fill="#ffb6c1"/>
                <circle cx="95" cy="145" r="5" fill="#ffb6c1"/>
                <circle cx="55" cy="85" r="7" fill="#000000"/> 
                <circle cx="57" cy="83" r="2.5" fill="#ffffff"/> 
                <circle cx="95" cy="85" r="7" fill="#000000"/> 
                <circle cx="97" cy="83" r="2.5" fill="#ffffff"/> 
                <ellipse cx="45" cy="98" rx="10" ry="5" fill="#ffb6c1" opacity="0.8"/>
                <ellipse cx="105" cy="98" rx="10" ry="5" fill="#ffb6c1" opacity="0.8"/>
                <path d="M 75 102 Q 75 110, 68 110 M 75 102 Q 75 110, 82 110" stroke="#ff88aaaa" stroke-width="3" fill="none" stroke-linecap="round"/>
                <circle cx="75" cy="100" r="3" fill="#ff88aa"/>
                <ellipse cx="40" cy="110" rx="12" ry="18" fill="#ffffff" transform="rotate(25 40 110)"/>
            </g>
            <g class="braco-joga">
                <ellipse cx="110" cy="90" rx="12" ry="20" fill="#ffffff" />
                <circle cx="110" cy="105" r="6" fill="#ffb6c1"/>
            </g>
        </symbol>
    </svg>

    <div class="wrapper-coelho coelho-esq-wrap">
        <svg class="coelho-svg"><use xlink:href="#cute-bunny"/></svg>
    </div>
    <div class="wrapper-coelho coelho-dir-wrap">
        <svg class="coelho-svg"><use xlink:href="#cute-bunny"/></svg>
    </div>

    <canvas id="heart"></canvas>

    <script>
        const canvas = document.getElementById('heart');
        const ctx = canvas.getContext('2d');

        let width, height, fontSize, scale;
        // 2. ACRESCENTAR NO JS: Array para armazenar as estrelas
        const stars = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            fontSize = Math.min(width, height) * 0.10;
            scale = Math.min(width, height) / 32;

            // Criar as estrelas ao redimensionar
            stars.length = 0;
            for(let i = 0; i < 150; i++) {
                stars.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    size: Math.random() * 1.5,
                    opacity: Math.random(),
                    speed: Math.random() * 0.02
                });
            }
        }
        window.addEventListener('resize', resize);
        resize();

        const heartPoints = [];
        for (let t = 0; t < Math.PI * 2; t += 0.05) {
            const x = 16 * Math.pow(Math.sin(t), 3);
            const y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            heartPoints.push({ dx: x, dy: y });
        }

        function drawMiniHeart(x, y, size, color) {
            ctx.save();
            ctx.translate(x, y);
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.bezierCurveTo(-size / 2, -size / 2, -size, size / 3, 0, size);
            ctx.bezierCurveTo(size, size / 3, size / 2, -size / 2, 0, 0);
            ctx.fillStyle = color;
            ctx.shadowBlur = 10;
            ctx.shadowColor = color;
            ctx.fill();
            ctx.restore();
        }

        const cores = ["#ff1493", "#ff69b4", "#ffb6c1", "#ffffff"];

        class Particle {
            constructor(side) {
                this.side = side;
                this.reset(true);
            }

            reset(initial = false) {
                const point = heartPoints[Math.floor(Math.random() * heartPoints.length)];
                this.targetX = width / 2 + (point.dx * scale);
                this.targetY = height / 2 + (point.dy * scale) - 20;
                this.startX = this.side === 'left' ? width * 0.15 : width * 0.85;
                this.startY = height * 0.82;
                this.cpX = (this.startX + this.targetX) / 2;
                this.cpY = Math.min(this.startY, this.targetY) - (Math.random() * 200 + 50);
                this.progress = initial ? Math.random() : 0;
                this.speed = Math.random() * 0.015 + 0.005;
                this.size = Math.random() * 5 + 3;
                this.color = cores[Math.floor(Math.random() * cores.length)];
                this.currentX = this.startX;
                this.currentY = this.startY;
                this.opacity = 1;
            }

            update() {
                if (this.progress < 1) {
                    this.progress += this.speed;
                    let t = this.progress > 1 ? 1 : this.progress;
                    const omt = 1 - t;
                    this.currentX = omt * omt * this.startX + 2 * omt * t * this.cpX + t * t * this.targetX;
                    this.currentY = omt * omt * this.startY + 2 * omt * t * this.cpY + t * t * this.targetY;
                } else {
                    this.opacity -= 0.008;
                    if (this.opacity <= 0) this.reset();
                }
            }

            draw() {
                const r = parseInt(this.color.slice(1, 3), 16);
                const g = parseInt(this.color.slice(3, 5), 16);
                const b = parseInt(this.color.slice(5, 7), 16);
                drawMiniHeart(this.currentX, this.currentY, this.size, `rgba(${r},${g},${b},${this.opacity})`);
            }
        }

        const particles = [];
        for (let i = 0; i < 800; i++) {
            particles.push(new Particle(i % 2 === 0 ? 'left' : 'right'));
        }

        function drawText() {
            ctx.fillStyle = "#ffffff";
            ctx.font = `bold ${fontSize}px 'Segoe UI', Arial, sans-serif`;
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.shadowBlur = 20;
            ctx.shadowColor = "#ff0055";
            ctx.fillText("EU TE AMO", width / 2, height / 2 - 20);
            ctx.shadowBlur = 0;
        }

        // 3. ACRESCENTAR NO JS: Função para desenhar as estrelas
        function drawStars() {
            ctx.save();
            for(let star of stars) {
                star.opacity += Math.sin(Date.now() * star.speed) * 0.02; // Efeito de brilho
                ctx.fillStyle = `rgba(255, 255, 255, ${Math.abs(star.opacity)})`;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fill();
            }
            ctx.restore();
        }

        function animate() {
            // Fundo escuro da noite (com transparência para o rastro das partículas)
            ctx.fillStyle = 'rgba(10, 2, 15, 0.3)'; 
            ctx.fillRect(0, 0, width, height);
            
            // Desenhar as estrelas antes de tudo para ficarem ao fundo
            drawStars();
            
            particles.forEach(p => {
                p.update();
                p.draw();
            });

            drawText();
            requestAnimationFrame(animate);
        }

            animate();
    </script>
</body>
</html>
